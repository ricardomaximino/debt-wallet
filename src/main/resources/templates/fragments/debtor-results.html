<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<body>
    <div th:fragment="results" class="debtor-results-container">
        <!-- Loading State -->
        <div th:if="${loading}" class="debtor-result-item text-center">
            <div class="spinner-border spinner-border-sm text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <small class="ms-2">Searching...</small>
        </div>

        <!-- Error State -->
        <div th:if="${error}" class="debtor-result-item text-center text-danger">
            <i class="fas fa-exclamation-triangle me-2"></i>
            <small th:text="${error}">Error searching debtors</small>
        </div>

        <!-- Empty State -->
        <div th:if="${!loading && (error == null || error.isEmpty()) && (debtors == null || debtors.isEmpty())}"
            class="debtor-result-item text-center text-muted">
            <i class="fas fa-search me-2"></i>
            <small>No debtors found. Enter details manually.</small>
        </div>

        <!-- Results List -->
        <div th:if="${debtors != null && !debtors.isEmpty()}" th:each="debtor : ${debtors}" class="debtor-result-item"
            th:data-debtor-id="${debtor.id()}" th:data-debtor-name="${debtor.name()}"
            th:data-debtor-email="${debtor.email()}" onclick="app.selectDebtorFragment(this)">
            <div><strong th:text="${debtor.name()}">John Doe</strong></div>
            <small class="text-muted d-block" th:text="${debtor.email()}">john@example.com</small>
        </div>
    </div>
</body>

</html>