<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<body>
    <div th:fragment="results" class="client-results-container">
        <!-- Loading State -->
        <div th:if="${loading}" class="client-result-item text-center">
            <div class="spinner-border spinner-border-sm text-primary" role="status">
                <span class="visually-hidden" th:text="#{status.loading}">Loading...</span>
            </div>
            <small class="ms-2" th:text="#{status.searching}">Searching...</small>
        </div>

        <!-- Error State -->
        <div th:if="${error}" class="client-result-item text-center text-danger">
            <i class="fas fa-exclamation-triangle me-2"></i>
            <small th:text="#{status.error_search}">Error searching debtors</small>
        </div>

        <!-- Empty State -->
        <div th:if="${!loading && (error == null || error.isEmpty()) && (clients == null || clients.isEmpty())}"
            class="client-result-item text-center text-muted">
            <i class="fas fa-search me-2"></i>
            <small th:text="#{status.no_results}">No clients found. Enter details manually.</small>
        </div>

        <!-- Results List -->
        <div th:if="${clients != null && !clients.isEmpty()}" th:each="client : ${clients}" class="client-result-item"
            th:data-client-id="${client.id()}" th:data-client-name="${client.name()}"
            th:data-client-email="${client.email()}" onclick="app.selectClientFragment(this)">
            <div><strong th:text="${client.name()}">John Doe</strong></div>
            <small class="text-muted d-block" th:text="${client.email()}">john@example.com</small>
        </div>
    </div>
</body>

</html>